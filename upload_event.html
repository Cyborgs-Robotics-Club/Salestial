<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Event</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js" type="module"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js" type="module"></script>
</head>
<body class="bg-gray-100 p-6">

    <h1 class="text-2xl font-bold mb-4">Upload Event Details</h1>
    <form id="uploadForm" class="space-y-4 bg-white p-6 rounded shadow-md">
        <div>
            <label for="name" class="block font-medium">Event Name</label>
            <input type="text" id="name" class="w-full border rounded p-2" required>
        </div>
        <div>
            <label for="image" class="block font-medium">Image URL</label>
            <input type="text" id="image" class="w-full border rounded p-2" required>
        </div>
        <div>
            <label for="price" class="block font-medium">Price</label>
            <input type="text" id="price" class="w-full border rounded p-2" required>
        </div>
        <div>
            <label for="about" class="block font-medium">About</label>
            <textarea id="about" class="w-full border rounded p-2" rows="4" required></textarea>
        </div>
        <div>
            <label for="structure" class="block font-medium">Structure</label>
            <textarea id="structure" class="w-full border rounded p-2" rows="4" required></textarea>
        </div>
        <div>
            <label for="timeline" class="block font-medium">Timeline</label>
            <textarea id="timeline" class="w-full border rounded p-2" rows="4" required></textarea>
        </div>
        <div>
            <label for="rules" class="block font-medium">Rules</label>
            <textarea id="rules" class="w-full border rounded p-2" rows="4" required></textarea>
        </div>
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Upload</button>
    </form>

    <script type="module">
        import { db, addDoc, collection } from './firebase.js';

        const uploadForm = document.getElementById("uploadForm");

        uploadForm.addEventListener("submit", async (e) => {
            e.preventDefault();
            const name = document.getElementById("name").value;
            const image = document.getElementById("image").value;
            const price = document.getElementById("price").value;
            const about = document.getElementById("about").value;
            const structure = document.getElementById("structure").value;
            const timeline = document.getElementById("timeline").value;
            const rules = document.getElementById("rules").value;

            try {
                await addDoc(collection(db, "events"), {
                    name,
                    image,
                    price,
                    about,
                    structure,
                    timeline,
                    rules
                });
                alert("Event uploaded successfully!");
                uploadForm.reset();
            } catch (error) {
                console.error("Error uploading event: ", error);
            }
        });
    </script>

</body>
</html>
